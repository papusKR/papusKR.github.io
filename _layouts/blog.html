<!DOCTYPE html>
<html lang="{{ site.lang | default: "ko-KR" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{{ site.description | default: page.description | default: 'Security & Network Blog' }}">
    <meta name="author" content="{{ site.author }}">
    
    <title>{{ page.title }} - {{ site.name }}</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    
    <!-- Favicon -->
    {% if site.favicon %}
    <link rel="icon" type="image/x-icon" href="{{ site.favicon | relative_url }}">
    {% endif %}
  </head>
  
  <body>
    <div class="bl-wrapper">
      <main class="bl-content">
        <div class="bl-container">
          <h1 class="bl-title">{{ page.title }}</h1>
          
          <div class="bl-filter-section">
            <h3 class="bl-filter-label">MAIN CATEGORY</h3>
            <div class="bl-filter-container" id="mainCategoryFilter">
              <button class="bl-filter-btn active" data-main-category="all">All</button>
              {% assign main_categories = "" | split: "" %}
              {% for post in site.posts %}
                {% if post.categories.size > 0 %}
                  {% assign main_cat = post.categories[0] %}
                  {% unless main_categories contains main_cat %}
                    {% assign main_categories = main_categories | push: main_cat %}
                  {% endunless %}
                {% endif %}
              {% endfor %}
              {% assign sorted_main_categories = main_categories | sort %}
              {% for main_cat in sorted_main_categories %}
                <button class="bl-filter-btn" data-main-category="{{ main_cat }}">{{ main_cat }}</button>
              {% endfor %}
            </div>
          </div>
          
          <div class="bl-filter-section" id="subCategorySection" style="display: none;">
            <h3 class="bl-filter-label">SUB CATEGORY</h3>
            <div class="bl-filter-container" id="subCategoryFilter"></div>
          </div>

          <div class="bl-posts-grid" id="postsGrid">
            {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
            {% for post in sorted_posts %}
              {% assign main_cat = post.categories[0] | default: "" %}
              {% assign sub_cat = post.categories[1] | default: "" %}
              <article class="bl-post-card" data-main-category="{{ main_cat }}" data-sub-category="{{ sub_cat }}">
                <a href="{{ post.url | relative_url }}" class="bl-card-link">
                  <div class="bl-card-cover">
                    <div class="bl-card-cover-overlay"><span class="bl-card-icon">üìÑ</span></div>
                  </div>
                  <div class="bl-card-content">
                    <h3 class="bl-card-title">{{ post.title }}</h3>
                    {% if post.description %}
                    <p class="bl-card-description">{{ post.description | truncate: 100 }}</p>
                    {% else %}
                    <p class="bl-card-description">{{ post.excerpt | strip_html | truncate: 100 }}</p>
                    {% endif %}
                    <div class="bl-card-meta">
                      <div class="bl-card-tags">
                        {% if main_cat != "" %}<span class="bl-card-tag bl-main-tag">{{ main_cat }}</span>{% endif %}
                        {% if sub_cat != "" %}<span class="bl-card-tag bl-sub-tag">{{ sub_cat }}</span>{% endif %}
                      </div>
                      <time class="bl-card-date" datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%Y.%m.%d" }}</time>
                    </div>
                  </div>
                </a>
              </article>
            {% endfor %}
          </div>
          {% if site.posts.size == 0 %}<p class="bl-no-posts">ÏïÑÏßÅ ÏûëÏÑ±Îêú Ìè¨Ïä§Ìä∏Í∞Ä ÏóÜÏäµÎãàÎã§.</p>{% endif %}
        </div>
      </main>
      <footer class="bl-footer"><p>&copy; {{ 'now' | date: "%Y" }} {{ site.name }}. All rights reserved.</p></footer>
    </div>
    
    <style>
    *{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;line-height:1.6;color:#DADADC;background:#1a1a1a}.bl-wrapper{min-height:100vh;display:flex;flex-direction:column}.bl-content{flex:1;padding:3rem 2rem}.bl-container{max-width:1400px;margin:0 auto}.bl-title{font-size:2.5rem;font-weight:700;margin-bottom:2rem;color:#DADADC}.bl-filter-section{margin-bottom:1.5rem}.bl-filter-label{font-size:1.25rem;font-weight:700;color:#DADADC;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:1rem}.bl-filter-container{display:flex;gap:0.5rem;flex-wrap:wrap;padding-bottom:1rem}#mainCategoryFilter{border-bottom:1px solid #333}.bl-filter-btn{padding:0.5rem 1rem;border:1px solid #333;background:transparent;color:#9ca3af;border-radius:6px;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.bl-filter-btn:hover{background:#2d2d2d;color:#DADADC;border-color:#444}.bl-filter-btn.active{background:#667eea;color:#ffffff;border-color:#667eea}.bl-posts-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:1.5rem;margin-top:2rem}.bl-post-card{background:#1e1e1e;border:1px solid #333;border-radius:12px;overflow:hidden;transition:all 0.3s ease;height:100%}.bl-post-card.hidden{display:none}.bl-post-card:hover{transform:translateY(-4px);box-shadow:0 12px 24px rgba(0,0,0,0.5);border-color:#444}.bl-card-link{text-decoration:none;color:inherit;display:flex;flex-direction:column;height:100%}.bl-card-cover{width:100%;height:160px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.bl-card-cover-overlay{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:rgba(0,0,0,0.1)}.bl-card-icon{font-size:2.5rem;opacity:0.6}.bl-card-content{padding:1.25rem;flex:1;display:flex;flex-direction:column}.bl-card-title{font-size:1.125rem;font-weight:600;color:#DADADC;margin:0 0 0.75rem 0;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.bl-card-description{font-size:0.875rem;color:#9ca3af;line-height:1.6;margin:0 0 1rem 0;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}.bl-card-meta{display:flex;justify-content:space-between;align-items:center;gap:0.5rem;flex-wrap:wrap;margin-top:auto}.bl-card-tags{display:flex;gap:0.5rem;flex-wrap:wrap}.bl-card-tag{padding:0.25rem 0.625rem;background:#2d2d2d;color:#9ca3af;border-radius:4px;font-size:0.75rem;font-weight:500;white-space:nowrap}.bl-main-tag{background:#667eea;color:#ffffff}.bl-sub-tag{background:#2d2d2d;color:#9ca3af}.bl-card-date{font-size:0.75rem;color:#6b7280;white-space:nowrap}.bl-no-posts{text-align:center;color:#6b7280;padding:3rem 0;font-size:1.1rem}.bl-footer{background:#1e1e1e;border-top:1px solid #333;color:#9ca3af;text-align:center;padding:2rem;margin-top:auto}@media(max-width:1400px){.bl-posts-grid{grid-template-columns:repeat(4,1fr)}}@media(max-width:1100px){.bl-posts-grid{grid-template-columns:repeat(3,1fr)}}@media(max-width:1024px){.bl-posts-grid{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.bl-title{font-size:2rem}.bl-filter-label{font-size:1.1rem}.bl-filter-container{gap:0.5rem}.bl-card-cover{height:180px}.bl-posts-grid{grid-template-columns:1fr}}@media(max-width:480px){.bl-content{padding:2rem 1rem}.bl-title{font-size:1.5rem}.bl-filter-label{font-size:1rem}.bl-card-cover{height:140px}}
    </style>
    
    <script>
document.addEventListener('DOMContentLoaded',function(){const mainBtns=document.querySelectorAll('#mainCategoryFilter .bl-filter-btn'),subSection=document.getElementById('subCategorySection'),subFilter=document.getElementById('subCategoryFilter'),cards=document.querySelectorAll('.bl-post-card');let curMain='all',curSub='all';const catStruct={};cards.forEach(c=>{const m=c.dataset.mainCategory,s=c.dataset.subCategory;if(m){if(!catStruct[m])catStruct[m]=new Set();if(s)catStruct[m].add(s)}});mainBtns.forEach(b=>{b.addEventListener('click',function(){curMain=this.dataset.mainCategory;curSub='all';mainBtns.forEach(x=>x.classList.remove('active'));this.classList.add('active');if(curMain==='all')subSection.style.display='none';else{updateSubs(curMain);subSection.style.display='block'}filter()})});function updateSubs(m){subFilter.innerHTML='';const allBtn=document.createElement('button');allBtn.className='bl-filter-btn active';allBtn.dataset.subCategory='all';allBtn.textContent='All';allBtn.addEventListener('click',handleSub);subFilter.appendChild(allBtn);if(catStruct[m]&&catStruct[m].size>0){Array.from(catStruct[m]).sort().forEach(s=>{const btn=document.createElement('button');btn.className='bl-filter-btn';btn.dataset.subCategory=s;btn.textContent=s;btn.addEventListener('click',handleSub);subFilter.appendChild(btn)})}}function handleSub(){curSub=this.dataset.subCategory;subFilter.querySelectorAll('.bl-filter-btn').forEach(b=>b.classList.remove('active'));this.classList.add('active');filter()}function filter(){cards.forEach(c=>{const m=c.dataset.mainCategory,s=c.dataset.subCategory;let show=false;if(curMain==='all')show=true;else if(curSub==='all')show=(m===curMain);else show=(m===curMain&&s===curSub);c.classList.toggle('hidden',!show)})}});
    </script>
  </body>
</html>
